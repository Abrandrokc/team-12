import{a as p,S as v,N as w,K as S,A as L}from"./assets/vendor-99dd5705.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function c(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=c(t);fetch(t.href,s)}})();const f=document.querySelector(".menu-open"),y=document.querySelector(".menu-close"),h=document.querySelector(".mobile-menu"),E=document.querySelector(".header-order"),q=document.querySelector(".header-nav__menu"),g=document.querySelector(".header-list");function k(){f.classList.add("is-hidden"),y.classList.remove("is-hidden"),h.classList.add("is-open")}function C(){h.classList.remove("is-open"),f.classList.remove("is-hidden"),y.classList.add("is-hidden"),E.style.display="none"}f.addEventListener("click",k);y.addEventListener("click",C);q.addEventListener("click",e=>{g.classList.toggle("is-hidden"),g.style.opacity=1});p.defaults.baseURL="https://portfolio-js.b.goit.study/api";const b=document.querySelector(".reviews-wrapper");document.querySelector(".reviews-swiper");async function M(){try{return(await p.get("/reviews")).data}catch{return b.insertAdjacentHTML("afterbegin","<p class='review-error'>Not found</p>"),null}}async function O(){let e=await M();if(e){const o=e.map(({author:i,avatar_url:t,review:s})=>`<li class='swiper-slide  review-slide'>
            <img class="review-img" src="${t}" alt="${i}" />
            <h3 class="review-author">${i}</h3>
            <p class="review-text">${s}</p>
        </li>`).join("");b.insertAdjacentHTML("afterbegin",o);const c={modules:[w,S],initialSlide:0,slidesPerView:1,spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"},breakpoints:{375:{slidesPerView:1},768:{slidesPerView:2},1440:{slidesPerView:4}},hashNavigation:{watchState:!0},keyboard:{enabled:!0,onlyInViewport:!0}};new v(".reviews-swiper",c)}}function x(){document.querySelector(".button-up-down"),new L(".info-list",{duration:700,showMultiple:!0,openOnInit:[0],onOpen:e=>{e.querySelector(".ac-trigger").classList.add("button-roll")},onClose:e=>{e.querySelector(".ac-trigger").classList.remove("button-roll")}})}x();document.addEventListener("DOMContentLoaded",()=>{const e=new v(".swiper-container",{modules:[w],loop:!0,slidesPerView:"auto",navigation:{nextEl:".swiper-button-next"}});document.addEventListener("keydown",function(o){o.key==="Tab"&&(o.preventDefault(),e.slideNext())})});new L(".accordion-container",{showMultiple:!0});const d=document.getElementById("mail"),I=document.getElementById("comment"),u=45,l=document.querySelector(".backdrope");document.querySelector(".button-close");const B=document.querySelector("form"),r=document.getElementById("email-error");let a,n;function N(e){a=e.target.value,a.length>u?(a=`...${a.substring(a.length-u)}`,e.target.value=a,e.target.setSelectionRange(0,0)):a.startsWith("...")&&(e.target.value=a.slice(3)),e.target.validity.valid?(r.classList.remove("error-input"),r.classList.add("success-input"),r.textContent="Succes!",r.style.display="block",c(d)):(r.classList.remove("success-input"),r.classList.add("error-input"),r.textContent="Invalid email, try again",r.style.display="block",i(d));function c(t){t.classList.remove("error"),t.classList.add("success")}function i(t){t.classList.remove("success"),t.classList.add("error")}}function P(e){n=e.target.value,n.length>u?(n=`...${n.substring(n.length-u)}`,e.target.value=n,e.target.setSelectionRange(n.length,n.length)):n.startsWith("...")&&(e.target.value=n.slice(3))}function $(e){l.classList.remove("is-open")}async function j(e){e.preventDefault(),await o(),l.classList.add("is-open"),d.value="",I.value="",r.textContent="",r.style.display="none",d.classList.remove("success"),d.classList.remove("error");async function o(){const c=new FormData(B),i={email:c.get("mail"),comment:c.get("comment")};try{const t=await fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!t.ok)throw new Error("Network response was not ok");const s=await t.json();console.log(s)}catch(t){console.error("Error:",t)}}}function D(e){e.target===l&&l.classList.remove("is-open")}function T(e){e.key==="Escape"&&l.classList.contains("is-open")&&l.classList.remove("is-open")}p.defaults.baseURL="https://portfolio-js.b.goit.study/api";O();const A=document.getElementById("mail");A.addEventListener("input",N);const V=document.getElementById("comment");V.addEventListener("input",P);const R=document.querySelector(".button-close");R.addEventListener("click",$);const W=document.querySelector("form");W.addEventListener("submit",j);const F=document.querySelector(".backdrope");F.addEventListener("click",D);document.addEventListener("keydown",T);
//# sourceMappingURL=commonHelpers.js.map
