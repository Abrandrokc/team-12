import{a as m,S as f,N as g,A as w}from"./assets/vendor-03a1b46c.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function c(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=c(t);fetch(t.href,s)}})();m.defaults.baseURL="https://portfolio-js.b.goit.study/api";const y=document.querySelector(".reviews-wrapper");document.querySelector(".reviews-swiper");async function v(){try{return(await m.get("/reviews")).data}catch{return y.insertAdjacentHTML("afterbegin","<p class='review-error'>Not found</p>"),null}}async function L(){let e=await v();if(e){const o=e.map(({author:i,avatar_url:t,review:s})=>`<li class='swiper-slide  review-slide'>
            <img class="review-img" src="${t}" alt="${i}" />
            <h3 class="review-author">${i}</h3>
            <p class="review-text">${s}</p>
        </li>`).join("");y.insertAdjacentHTML("afterbegin",o);const c={modules:[g],slidesPerView:1,spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"},breakpoints:{375:{slidesPerView:1},768:{slidesPerView:2},1440:{slidesPerView:4}},hashNavigation:{watchState:!0}};new f(".reviews-swiper",c)}}function b(){document.querySelector(".button-up-down"),new w(".info-list",{duration:700,showMultiple:!0,openOnInit:[0],onOpen:e=>{e.querySelector(".ac-trigger").classList.add("button-roll")},onClose:e=>{e.querySelector(".ac-trigger").classList.remove("button-roll")}})}b();document.addEventListener("DOMContentLoaded",()=>{const e=new f(".swiper-container",{modules:[g],loop:!0,slidesPerView:"auto",navigation:{nextEl:".swiper-button-next"}});document.addEventListener("keydown",function(o){o.key==="Tab"&&(o.preventDefault(),e.slideNext())})});const u=document.getElementById("mail"),h=document.getElementById("comment"),d=45,l=document.querySelector(".backdrope");document.querySelector(".button-close");const S=document.querySelector("form"),n=document.getElementById("email-error");let a,r;function E(e){a=e.target.value,a.length>d?(a=`...${a.substring(a.length-d)}`,e.target.value=a,e.target.setSelectionRange(0,0)):a.startsWith("...")&&(e.target.value=a.slice(3)),e.target.validity.valid?(n.classList.remove("error-input"),n.classList.add("success-input"),n.textContent="Succes!",n.style.display="block",c(u)):(n.classList.remove("success-input"),n.classList.add("error-input"),n.textContent="Invalid email, try again",n.style.display="block",i(u));function c(t){t.classList.remove("error"),t.classList.add("success")}function i(t){t.classList.remove("success"),t.classList.add("error")}}function q(e){r=e.target.value,r.length>d?(r=`...${r.substring(r.length-d)}`,e.target.value=r,e.target.setSelectionRange(r.length,r.length)):r.startsWith("...")&&(e.target.value=r.slice(3))}function C(e){l.classList.remove("is-open")}async function k(e){e.preventDefault(),await o(),l.classList.add("is-open"),u.value="",h.value="",n.textContent="",n.style.display="none",u.classList.remove("success"),u.classList.remove("error");async function o(){const c=new FormData(S),i={email:c.get("mail"),comment:c.get("comment")};try{const t=await fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!t.ok)throw new Error("Network response was not ok");const s=await t.json();console.log(s)}catch(t){console.error("Error:",t)}}}function O(e){e.target===l&&l.classList.remove("is-open")}function x(e){e.key==="Escape"&&l.classList.contains("is-open")&&l.classList.remove("is-open")}m.defaults.baseURL="https://portfolio-js.b.goit.study/api";L();const I=document.getElementById("mail");I.addEventListener("input",E);const N=document.getElementById("comment");N.addEventListener("input",q);const P=document.querySelector(".button-close");P.addEventListener("click",C);const $=document.querySelector("form");$.addEventListener("submit",k);const j=document.querySelector(".backdrope");j.addEventListener("click",O);document.addEventListener("keydown",x);
//# sourceMappingURL=commonHelpers.js.map
