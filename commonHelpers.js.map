{"version":3,"file":"commonHelpers.js","sources":["../src/js/reviews.js","../src/js/aboutme.js","../src/js/work-together.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport Swiper from 'swiper';\nimport 'swiper/swiper-bundle.css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\nimport { Navigation } from 'swiper/modules';\n\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api';\n\nexport const reviewWrapper = document.querySelector('.reviews-wrapper');\nconst reviewsSwiper = document.querySelector('.reviews-swiper')\n\n\nexport async function fetchData() {\n    try {\n        const response = await axios.get('/reviews');\n        return response.data;\n    } catch (error) {\n        reviewWrapper.insertAdjacentHTML('afterbegin', `<p class='review-error'>Not found</p>`);\n        return null;\n    }\n}\n\nexport async function renderSlide() {\n    let data = await fetchData();\n    if (data) {\n        const html = data.map(({ author, avatar_url, review }) => `<li class='swiper-slide  review-slide'>\n            <img class=\"review-img\" src=\"${avatar_url}\" alt=\"${author}\" />\n            <h3 class=\"review-author\">${author}</h3>\n            <p class=\"review-text\">${review}</p>\n        </li>`).join('');\n\n        reviewWrapper.insertAdjacentHTML('afterbegin', html)\n\n        const swiperOptions = {\n            modules: [Navigation],\n           \n            slidesPerView: 1,\n              spaceBetween: 10,\n            navigation: {\n                nextEl: '.swiper-button-next',\n                prevEl: '.swiper-button-prev',\n            },\n            scrollbar: {\n                el: '.swiper-scrollbar',\n            },\n            breakpoints: {\n                375: { slidesPerView: 1 },\n                768: { slidesPerView: 2 },\n                1440: { slidesPerView: 4 },\n            },\n           \n            hashNavigation: {\n                watchState: true,\n            },\n            \n           \n                \n            \n        };\n\n        new Swiper('.reviews-swiper', swiperOptions);\n    }\n}\n","\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport Swiper from 'swiper';\nimport { Navigation } from 'swiper/modules';\nfunction itemsAccordion() {\n  const buttonAccordion = document.querySelector('.button-up-down');\n\n\n\n\n\n\n\n  new Accordion('.info-list', {\n    duration: 700,\n    showMultiple: true,\n    openOnInit: [0],\n    onOpen: currentElement => {\n      currentElement.querySelector('.ac-trigger').classList.add('button-roll');\n    },\n    onClose: currentElement => {\n      currentElement\n        .querySelector('.ac-trigger')\n        .classList.remove('button-roll');\n    },\n  });\n}\nexport default itemsAccordion();\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const swiper = new Swiper('.swiper-container', {\n    modules: [Navigation],\n    loop: true,\n    slidesPerView: 'auto',\n    navigation: {\n      nextEl: '.swiper-button-next',\n    },\n  });\n\n  document.addEventListener('keydown', function (event) {\n    if (event.key === 'Tab') {\n      event.preventDefault();\n      swiper.slideNext();\n    }\n  });\n});\n","const formEmail = document.getElementById('mail');\nconst formComment = document.getElementById('comment');\nconst maxLength = 45;\nconst backdrope = document.querySelector(\".backdrope\");\nconst buttonClose = document.querySelector(\".button-close\");\nconst form = document.querySelector(\"form\")\n const errorMessage = document.getElementById('email-error');\n\nlet inputMail;\nlet inputComment;\n\nexport function formEmailInput(event)   {\n  \n inputMail = event.target.value;\n\n    if (inputMail.length > maxLength) {\n        inputMail = `...${inputMail.substring(inputMail.length - maxLength)}`;\n        event.target.value = inputMail;\n        event.target.setSelectionRange(0, 0);\n    } else if (inputMail.startsWith('...')) {\n        event.target.value = inputMail.slice(3);\n    }\n    const input = event.target;\n   \n\n     if (!input.validity.valid) {\n        errorMessage.classList.remove('success-input');\n        errorMessage.classList.add('error-input');\n        errorMessage.textContent = 'Invalid email, try again';\n         errorMessage.style.display = 'block';\n           setErrorStyle(formEmail); \n    } else {\n        errorMessage.classList.remove('error-input');\n        errorMessage.classList.add('success-input');\n        errorMessage.textContent = 'Succes!';\n         errorMessage.style.display = 'block';\n           setSuccessStyle(formEmail); \n    }\n    function setSuccessStyle(formEmail) {\n    formEmail.classList.remove('error'); \n        formEmail.classList.add('success'); \n}\n\nfunction setErrorStyle(formEmail) {\n    formEmail.classList.remove('success');\n    formEmail.classList.add('error');\n}\n\n};\n\n\nexport function formCommentlInput(event)  {\n   inputComment = event.target.value;\n if (inputComment.length > maxLength) {\n        inputComment = `...${inputComment.substring(inputComment.length - maxLength)}`;\n        event.target.value = inputComment;\n        event.target.setSelectionRange(inputComment.length, inputComment.length);\n    } else if (inputComment.startsWith('...')) {\n        event.target.value = inputComment.slice(3);\n    }\n};\n\nexport function closeModalWindow(event)  {\n       backdrope.classList.remove('is-open');\n};\n\n\n// console.log(dataToSend)\nexport async function submitForm(event) {\n    event.preventDefault();\n    await sendDataToServer(); \n  \n    backdrope.classList.add('is-open');\n    formEmail.value = '';\n    formComment.value = '';\n   errorMessage.textContent = '';\n    errorMessage.style.display = 'none'; \n    formEmail.classList.remove('success');\n      formEmail.classList.remove('error');\n\n\nasync function sendDataToServer() {\n    const formData = new FormData(form);\n    const dataToSend = {\n        \"email\": formData.get('mail'),\n        \"comment\": formData.get('comment')\n    };\n\n    try {\n        const response = await fetch('https://portfolio-js.b.goit.study/api/requests', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(dataToSend)\n        });\n        \n        if (!response.ok) {\n            throw new Error('Network response was not ok');\n        }\n        \n        const responseData = await response.json();\n        console.log(responseData); \n    } catch (error) {\n        console.error('Error:', error);\n    }\n    }\n};\n    \nexport function backdropeClose(event) {\n    if (event.target === backdrope) {\n        backdrope.classList.remove('is-open');\n    }\n};\nexport function escapeClose(event) {\n    if (event.key === 'Escape' && backdrope.classList.contains('is-open')) {\n        backdrope.classList.remove('is-open');\n    }\n};\n\n\n\n","\n\n\n\n\n\n\nimport axios from 'axios';\nimport { renderSlide,  } from './js/reviews';\nimport Swiper from 'swiper';\nimport 'swiper/swiper-bundle.css';\nimport itemsAccordion from './js/aboutme';\nitemsAccordion;\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api';\n\n\nrenderSlide(); \n  \n//JS code for cection \"Work together\"\nimport { formEmailInput } from './js/work-together';\nconst formEmail = document.getElementById('mail');\nformEmail.addEventListener('input', formEmailInput);\n\nimport { formCommentlInput } from './js/work-together';\nconst formComment = document.getElementById('comment');\nformComment.addEventListener('input', formCommentlInput);\n\nimport { closeModalWindow } from './js/work-together';\nconst buttonClose = document.querySelector(\".button-close\");\nbuttonClose.addEventListener('click', closeModalWindow);\n\nimport { submitForm} from './js/work-together';\nconst form = document.querySelector(\"form\");\nform.addEventListener('submit',submitForm);\n\nimport { backdropeClose} from './js/work-together';\nconst backdrope = document.querySelector(\".backdrope\");\nbackdrope.addEventListener('click', backdropeClose);\n\nimport { escapeClose} from './js/work-together';\ndocument.addEventListener('keydown', escapeClose);\n// End JS code for cection \"Work together\"\n\n"],"names":["axios","reviewWrapper","fetchData","renderSlide","data","html","author","avatar_url","review","swiperOptions","Navigation","Swiper","itemsAccordion","Accordion","currentElement","swiper","event","formEmail","formComment","maxLength","backdrope","form","errorMessage","inputMail","inputComment","formEmailInput","setSuccessStyle","setErrorStyle","formCommentlInput","closeModalWindow","submitForm","sendDataToServer","formData","dataToSend","response","responseData","error","backdropeClose","escapeClose","buttonClose"],"mappings":"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"}